<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Laplace&#39;s Lab</title>
  
  <subtitle>“ Meet success like a gentleman and disaster like a man.”</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://laplacetw.github.io/"/>
  <updated>2019-08-10T08:49:12.707Z</updated>
  <id>https://laplacetw.github.io/</id>
  
  <author>
    <name>LaplaceTW</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>關於 SharePoint REST API</title>
    <link href="https://laplacetw.github.io/sharepoint-rest-api/"/>
    <id>https://laplacetw.github.io/sharepoint-rest-api/</id>
    <published>2019-08-09T13:57:31.000Z</published>
    <updated>2019-08-10T08:49:12.707Z</updated>
    
    <content type="html"><![CDATA[<p>這是一段關於沒有伺服器權限的開發者於 SharePoint 進行網站開發的恐怖故事。<br><a id="more"></a><br>這段故事實在是太可怕了，伺服器權限在資訊單位手裡，而完全不懂 SharePoint 也不會 .NET 的我只有使用者權限帳號(黑人問號.jpg)，看著一點幫助都沒有的 training kit 文件，我必須想辦法把它寫成一個入口網站…</p><p>經過摸索研究最終想出了解決方法，我自製母版定義了導航列與頁腳，並利用內容編輯器這個 Web Part 在每個頁面「填入」我要的 HTML 內容，但不得不放棄內建的其他 Web Part，因為我根本無法完全控制那些頑固的東西，它們讓整個頁面佈局看起來相當糟糕!!!</p><p>但如此我便擁有整個頁面內容的控制權了，前端頁面佈局樣式就交給 Bootstrap 去搞定啦，而後端就只能依賴 SharePoint REST API 去處理 CRUD。</p><p>雖然很荒謬但我還是硬著頭皮上了，最後寫了個多功能的 SharePoint 企業內網 :</p><ul><li>公告</li><li>行事曆(支援批次匯入事件)</li><li>會議室預約</li><li>工時追蹤填報(支援統計圖表)</li><li>出勤狀況發佈(系統通知信)</li><li>討論區</li><li>Smart Chat Bot(答覆公司系統與網站相關問題)</li></ul><p>這任務至此告一段落了，紀錄一下 SharePoint REST API 如何使用 : </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> api_create = <span class="string">"https://server/site/_api/web/lists('&#123; your_list_guid &#125;')/items"</span>,</span><br><span class="line">    api_read = <span class="string">"https://server/site/_api/web/lists('&#123; your_list_guid &#125;')/items( &#123; your_list_item_id &#125; )"</span>,</span><br><span class="line">    api_update = <span class="string">"https://server/site/_api/web/lists('&#123; your_list_guid &#125;')/items( &#123; your_list_item_id &#125; )"</span>,</span><br><span class="line">    api_delete = <span class="string">"https://server/_api/web/lists('&#123; your_list_guid &#125;')/items( &#123; your_list_item_id &#125; )"</span>,</span><br><span class="line">    data =&#123;</span><br><span class="line">        __metadata: &#123; <span class="string">'type'</span>: <span class="string">'SP.Data.&#123; your_list_item_entity_type_fullname &#125;'</span> &#125;,</span><br><span class="line">        &#123; list_column_name &#125; : &#123; value &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp_create</span>(<span class="params">api_create</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: api_create,</span><br><span class="line">        method: <span class="string">"POST"</span>,</span><br><span class="line">        data: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">        contentType: <span class="string">"application/json; odata=verbose"</span>,</span><br><span class="line">        headers:&#123;</span><br><span class="line">            <span class="string">"Accept"</span>: <span class="string">"application/json; odata=verbose"</span>,</span><br><span class="line">            <span class="string">"X-RequestDigest"</span>: $(<span class="string">"#__REQUESTDIGEST"</span>).val()</span><br><span class="line">        &#125;,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> data = res.d; <span class="comment">// the data you create</span></span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(error));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp_read</span>(<span class="params">api_read</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: api_read,</span><br><span class="line">        type: <span class="string">"GET"</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">"accept"</span>:<span class="string">"application/json; odata=verbose"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> data = res.d; <span class="comment">// the data you read</span></span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(error));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp_update</span>(<span class="params">api_update</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: api_update,</span><br><span class="line">        method: <span class="string">"POST"</span>,</span><br><span class="line">        data: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">        contentType: <span class="string">"application/json; odata=verbose"</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">"Accept"</span>: <span class="string">"application/json;odata=verbose"</span>,</span><br><span class="line">            <span class="string">"X-RequestDigest"</span>: $(<span class="string">"#__REQUESTDIGEST"</span>).val(),</span><br><span class="line">            <span class="string">"IF-MATCH"</span>: <span class="string">"*"</span>,</span><br><span class="line">            <span class="string">"X-Http-Method"</span>: <span class="string">"MERGE"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> data = res.d; <span class="comment">// the data you update</span></span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(error));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp_delete</span>(<span class="params">api_delete</span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: api,</span><br><span class="line">        method: <span class="string">'DELETE'</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">"Accept"</span>: <span class="string">"application/json;odata=verbose"</span>,</span><br><span class="line">            <span class="string">"X-RequestDigest"</span>: $(<span class="string">"#__REQUESTDIGEST"</span>).val(),</span><br><span class="line">            <span class="string">"IF-MATCH"</span>: <span class="string">"*"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(error));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* filter &amp; select &amp; order(asc / desc)</span></span><br><span class="line"><span class="comment">"https://server/_api/web/lists('&#123; your_list_guid &#125;')/items?$filter=&#123; list_column_name &#125; eq &#123; keyword &#125;&amp;$select=ID,AuthorId,Created,...&amp;$orderby=&#123; list_column_name &#125; desc"</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>特別留意 SharePoint REST API 返回的資料筆數預設值是100筆，這在我寫的會議室預約功能所依賴的資料庫筆數超過100之後，因為使用者反應預約完成的會議卻沒有顯示在頁面上而發現。此問題只要在 API 裡頭加上一個 “TOP”參數並指定返回的資料筆數即可解決，例如「TOP=5000」，而 API 能返回的最大值為5000筆。如果需要返回更多筆資料，印象中看過網路上相關討論，但我用在查詢會議室預約這樣有時效性的資料，估計5000筆已經綽綽有餘了XDD</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;這是一段關於沒有伺服器權限的開發者於 SharePoint 進行網站開發的恐怖故事。&lt;br&gt;
    
    </summary>
    
      <category term="SharePoint" scheme="https://laplacetw.github.io/categories/SharePoint/"/>
    
    
      <category term="web" scheme="https://laplacetw.github.io/tags/web/"/>
    
      <category term="sharepoint" scheme="https://laplacetw.github.io/tags/sharepoint/"/>
    
  </entry>
  
  <entry>
    <title>第一次吃樹莓派</title>
    <link href="https://laplacetw.github.io/rspi-meet-raspberry-pi-b3-plus/"/>
    <id>https://laplacetw.github.io/rspi-meet-raspberry-pi-b3-plus/</id>
    <published>2019-05-18T16:12:17.000Z</published>
    <updated>2019-08-10T08:53:01.386Z</updated>
    
    <content type="html"><![CDATA[<p>樹莓派3B+初始化安裝。<br><a id="more"></a></p><p><img src="https://i.imgur.com/wIdoqQ8.jpg" alt><br><img src="https://i.imgur.com/Dec2LcF.jpg" alt></p><h3 id="Operation-System"><a href="#Operation-System" class="headerlink" title="Operation System"></a>Operation System</h3><p>參考了<a href="http://blog.itist.tw/2016/12/34-best-operating-systems-for-raspberry-pi.html" target="_blank" rel="noopener">IT技術家</a>所整理的作業系統清單，我決定直接安裝官方發行的Raspbian OS。</p><ul><li><a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener">Raspbian載點</a></li><li><a href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md" target="_blank" rel="noopener">Raspbian安裝指南</a></li><li><a href="https://www.raspberrypi.com.tw/20004/faq-how-to-update-and-upgrade-raspbian/" target="_blank" rel="noopener">更新Raspbian</a></li></ul><p>由於Raspberry Pi是以SD Card來當硬碟(<a href="https://www.raspberrypi.org/documentation/installation/sd-cards.md" target="_blank" rel="noopener">官方說明</a>)，網路上大多建議儲存容量至少8G、寫入速度class 10，加上系統更新考量，於是我準備了一張儲存容量16G、寫入速度class 10的SD Card來當系統儲存空間，以及一支隨身碟來當資料儲存空間。不過官方有特別強調，較高的寫入速度並非記憶卡性能的唯一標準，因為寫入速度通常是藉由犧牲讀取速度和尋軌效能而提升的。</p><blockquote><p>The card class determines the sustained write speed for the card; a class 4 card will be able to write at 4MB/s, whereas a class 10 should be able to attain 10 MB/s. However, it should be noted that this does not mean a class 10 card will outperform a class 4 card for general usage, because often this write speed is achieved at the cost of read speed and increased seek times.</p></blockquote><p>Raspbian鏡像檔目前有3種版本:</p><ul><li>Raspbian Stretch with desktop and recommended software</li><li>Raspbian Stretch with desktop</li><li>Raspbian Stretch Lite<br><img src="https://i.imgur.com/c8sOf6D.png" alt></li></ul><p>Raspberry Pi安裝作業系統有許多方式，直接刷進去SD Card應該是最簡單的方式，官方推薦<a href="https://www.balena.io/etcher/" target="_blank" rel="noopener">Etcher</a>燒錄工具。<br><img src="https://i.imgur.com/lr2zQQi.png" alt></p><h3 id="Connect-to-Wi-Fi-Networks"><a href="#Connect-to-Wi-Fi-Networks" class="headerlink" title="Connect to Wi-Fi Networks"></a>Connect to Wi-Fi Networks</h3><p>將作業系統刷進SD Card後，讓電腦重新讀取記憶卡，在根目錄下建立wpa_supplicant.conf，寫入網路連線參數，可寫入多筆。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">country=TW</span><br><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line">network=&#123;</span><br><span class="line">    ssid=&quot;&#123;SSID&#125;&quot;</span><br><span class="line">    psk=&quot;&#123;Password&#125;&quot;</span><br><span class="line">    key_mgmt=WPA-PSK</span><br><span class="line">    scan_ssid=1</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="Remote"><a href="#Remote" class="headerlink" title="Remote"></a>Remote</h3><p></p><p><br>SSH連線預設為關閉狀態，如同無線網路設定，在根目錄下建立名稱為’ssh’的檔案即可強制啟用SSH連線。<br><img src="https://i.imgur.com/5X2bahA.png" alt></p><p>我忘了在網路連線設定country參數，所以連線時系統有提醒可以進config設定。<br><img src="https://i.imgur.com/QI8vFEc.png" alt></p><h4 id="在Raspberry-Pi安裝VNC-Remote-Server"><a href="#在Raspberry-Pi安裝VNC-Remote-Server" class="headerlink" title="在Raspberry Pi安裝VNC Remote Server"></a>在Raspberry Pi安裝VNC Remote Server</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install tightvncserver -y</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vncserver  <span class="comment"># run server</span></span></span><br></pre></td></tr></table></figure><p>首次遠端桌面連線時，系統會要求設置連線密碼。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~ $ vncserver</span><br><span class="line">You will require a password to access your desktops.</span><br><span class="line"></span><br><span class="line">Password: </span><br><span class="line">Warning: password truncated to the length of 8.</span><br><span class="line">Verify:   </span><br><span class="line">Would you like to enter a view-only password (y/n)? n</span><br><span class="line"></span><br><span class="line">New 'X' desktop is raspberrypi:1</span><br><span class="line"></span><br><span class="line">Creating default startup script /home/pi/.vnc/xstartup</span><br><span class="line">Starting applications specified in /home/pi/.vnc/xstartup</span><br><span class="line">Log file is /home/pi/.vnc/raspberrypi:1.log</span><br></pre></td></tr></table></figure></p><h4 id="在Google-Chrome安裝VNC-Viewer擴充程式"><a href="#在Google-Chrome安裝VNC-Viewer擴充程式" class="headerlink" title="在Google Chrome安裝VNC Viewer擴充程式"></a>在Google Chrome安裝VNC Viewer擴充程式</h4><p>*<a href="https://chrome.google.com/webstore/iabmpiboiopbgfabjmgeedhcmjenhbla" target="_blank" rel="noopener">VNC Viewer for Google Chrome</a><br><img src="https://i.imgur.com/mKcoeaT.png" alt></p><p>連線Address需指定VNC Server Port，連接阜編碼規則為5900+Display編號。<br>e.g. 192.168.0.2:5901<br><img src="https://i.imgur.com/fnD2RQc.png" alt><br><img src="https://i.imgur.com/dYVH37J.png" alt></p><h3 id="Shutdown"><a href="#Shutdown" class="headerlink" title="Shutdown"></a>Shutdown</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo shutdown -h now</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;樹莓派3B+初始化安裝。&lt;br&gt;
    
    </summary>
    
      <category term="Raspberry Pi" scheme="https://laplacetw.github.io/categories/Raspberry-Pi/"/>
    
    
      <category term="raspberry pi" scheme="https://laplacetw.github.io/tags/raspberry-pi/"/>
    
  </entry>
  
  <entry>
    <title>QArt Coder:客製化QR Code產生器</title>
    <link href="https://laplacetw.github.io/create-qrcode-with-image-by-qart-coder/"/>
    <id>https://laplacetw.github.io/create-qrcode-with-image-by-qart-coder/</id>
    <published>2019-05-11T15:18:57.000Z</published>
    <updated>2019-05-11T16:03:23.004Z</updated>
    
    <content type="html"><![CDATA[<p><del>這是一款真正的</del>影像合成QR Code產生器😎<a id="more"></a></p><p>無意間看到<a href="https://www.playpcesor.com/2019/03/qart-coder-qr-code-logo.html" target="_blank" rel="noopener">電腦玩物的Esor大</a>分享一個很特別的<a href="https://research.swtch.com/qr/draw" target="_blank" rel="noopener">QArt Coder</a>，於是我滿心期待地跑去試用，之前用過的QR Code產生器都是很直白地在QR Code正中央呈現一個縮圖，但這個QArt Coder是將影像用點陣圖的方式呈現～跟QR Code漂亮地結合在一起！</p><p>這個線上工具介面並不複雜，圖片上傳後微調一下，接著點選Save this QR Code，頁面就會產生3種尺寸的QR Code讓人下載<br><img src="https://i.imgur.com/Z1UITpy.png" alt></p><p>但下載的時候有點問題，所以我才寫了這篇XD 直接右鍵儲存影像的話，會發現下載了一個.html檔，在新分頁開啟影像或者下載得到的.html檔都是呈現亂碼的狀態(<del>黃捷式</del>白眼<br><img src="https://i.imgur.com/MZ0yKBM.png" alt></p><p>只好檢查一下網頁原始碼，什麼在新標籤頁打開還是直接拷貝都是不起作用的，對著這張圖片的網頁元件按下<strong>擷取螢幕快照</strong>，就可以成功下載這些QR Code了，但上述是在Mac OS下的操作，我也挺好奇Win OS是否也有個相同狀況XD<br><img src="https://i.imgur.com/AN5xk3Q.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;這是一款真正的&lt;/del&gt;影像合成QR Code產生器😎
    
    </summary>
    
      <category term="Tools" scheme="https://laplacetw.github.io/categories/Tools/"/>
    
    
      <category term="qr code" scheme="https://laplacetw.github.io/tags/qr-code/"/>
    
  </entry>
  
  <entry>
    <title>Mac Safari網頁檢閱器顯示位置</title>
    <link href="https://laplacetw.github.io/mac-safari-show-web-inspector/"/>
    <id>https://laplacetw.github.io/mac-safari-show-web-inspector/</id>
    <published>2019-05-08T15:09:04.000Z</published>
    <updated>2019-05-08T15:53:44.009Z</updated>
    
    <content type="html"><![CDATA[<p>這東西竟然困擾我兩天，我只記得在Safari檢視網頁原始碼的時候，意外點了某個按鈕，然後它就變成獨立視窗了、然後它就變成獨立視窗了、然後它就變成獨立視窗了…<a id="more"></a>於是我開始把Safari的選單找了一遍又一遍，然後中文關鍵字搜尋只能告訴你該如何在Safari上面叫出這個網頁檢閱器🙄🙄🙄</p><p>最後終於讓我發現，有個國外的老兄在網路上問了<a href="https://macmost.com/forum/how-do-i-make-the-web-inspector-appear-in-the-bottom-half-of-my-browser-window.html" target="_blank" rel="noopener">How Do I Make the Web Inspector Appear In the Bottom Half Of My Browser Window?</a>這樣的問題，我的老天鵝呀，感恩網路！讚嘆網路！</p><p>原來我誤觸的按鈕，會讓網頁檢閱器顯示為獨立視窗<br><img src="https://i.imgur.com/EfnEXsd.png" alt></p><p>按下置於視窗底部的按鈕就回到Safari的底部啦！<br><img src="https://i.imgur.com/lrdRwJV.png" alt></p><p>因為這按鈕在<span style="color:red;">全螢幕模式下不可見</span>，所以我才一直沒注意到這按鈕(傻眼)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;這東西竟然困擾我兩天，我只記得在Safari檢視網頁原始碼的時候，意外點了某個按鈕，然後它就變成獨立視窗了、然後它就變成獨立視窗了、然後它就變成獨立視窗了…
    
    </summary>
    
      <category term="Mac" scheme="https://laplacetw.github.io/categories/Mac/"/>
    
    
      <category term="mac" scheme="https://laplacetw.github.io/tags/mac/"/>
    
      <category term="safari" scheme="https://laplacetw.github.io/tags/safari/"/>
    
  </entry>
  
  <entry>
    <title>Google App Script ＋ Spread Sheet = 微後端</title>
    <link href="https://laplacetw.github.io/google-app-script-and-spreadsheet/"/>
    <id>https://laplacetw.github.io/google-app-script-and-spreadsheet/</id>
    <published>2019-05-05T17:35:16.000Z</published>
    <updated>2019-05-09T17:59:27.954Z</updated>
    
    <content type="html"><![CDATA[<p>若想以Google表單來做一個簡易的daily time tracking，提交一次表單就是一筆數據，但每天的時間總是會適當地分配，如此就得重複填寫並送出表單…這真是一個不聰明的方法，若自己寫個網頁表單，request又被瀏覽器同源政策擋下來…就試著用App Script來解決這件事吧，我也沒寫過呢。<a id="more"></a></p><h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><p><a href="https://developers.google.com/apps-script/guides/web" target="_blank" rel="noopener">Google App Script Doc : Web Apps</a></p><blockquote><h4 id="Requirements-for-web-apps"><a href="#Requirements-for-web-apps" class="headerlink" title="Requirements for web apps "></a>Requirements for web apps <p></p></h4><p>A script can be published as a web app if it meets these requirements:</p><p>-It contains a doGet(e) or doPost(e) function.<br>-The function returns an HTML service HtmlOutput object or a Content service TextOutput object.</p></blockquote><p>首先建立Google雲端試算表和App Script，複製試算表網址“docs.google.com/spreadsheets/d/{Sheet ID}/edit#gid=0”當中的{Sheet ID}，寫App Script的時候會需要這部分的資訊。</p><p></p><p><br><img src="https://i.imgur.com/UiGda9u.png" alt></p><p>若找不到App Script，點選連結更多應用程式，過濾Google的應用程式就能看到了，然後就將它連結至個人的雲端硬碟。<br><img src="https://i.imgur.com/4BsYTfE.png" alt></p><p>建好表格欄位後就可以來寫App Script了<br><img src="https://i.imgur.com/NUIlhKk.png" alt></p><h3 id="App-Script"><a href="#App-Script" class="headerlink" title="App Script"></a>App Script</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doGet</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// parameter</span></span><br><span class="line">  <span class="keyword">var</span> params = e.parameter,</span><br><span class="line">      date = params.Date,</span><br><span class="line">      name = params.Name,</span><br><span class="line">      proj = params.Proj,</span><br><span class="line">      hours = params.Hours,</span><br><span class="line">      des = params.Des;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// google sheet</span></span><br><span class="line">  var spreadSheet = SpreadsheetApp.openById(&#123;Sheet ID&#125;),       # 需要Sheet ID</span><br><span class="line">      sheet = spreadSheet.getSheets()[<span class="number">0</span>],  <span class="comment">// focus on sheet 1</span></span><br><span class="line">      lastRow = sheet.getLastRow();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// set value &lt;= getRange(row, col)</span></span><br><span class="line">  sheet.getRange(lastRow + <span class="number">1</span>, <span class="number">1</span>).setValue(date);</span><br><span class="line">  sheet.getRange(lastRow + <span class="number">1</span>, <span class="number">2</span>).setValue(name);</span><br><span class="line">  sheet.getRange(lastRow + <span class="number">1</span>, <span class="number">3</span>).setValue(proj);</span><br><span class="line">  sheet.getRange(lastRow + <span class="number">1</span>, <span class="number">4</span>).setValue(hours);</span><br><span class="line">  sheet.getRange(lastRow + <span class="number">1</span>, <span class="number">5</span>).setValue(des);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// complete =&gt; return true</span></span><br><span class="line">  <span class="keyword">return</span> ContentService.createTextOutput(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>app script寫好之後，可以另外寫個debug.gs來執行看看<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debug</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> status = doGet(&#123;</span><br><span class="line">      <span class="string">"parameter"</span>: &#123;</span><br><span class="line">        <span class="string">"Date"</span> : <span class="string">"2019-05-06"</span>,</span><br><span class="line">        <span class="string">"Name"</span> : <span class="string">"LaplaceTW"</span>,</span><br><span class="line">        <span class="string">"Proj"</span> : <span class="string">"Proj-19-05-06"</span>,</span><br><span class="line">        <span class="string">"Hours"</span> : <span class="string">"4"</span>,</span><br><span class="line">        <span class="string">'Des'</span> :<span class="string">"Daily Time Tracking"</span>,</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">  Logger.log(<span class="string">"Status : %s"</span> , status);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></p><p>沒問題的話，就部署為網路應用程式，部署成功後可取得API網址<br><img src="https://i.imgur.com/f6YkDkO.png" alt></p><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p></p><p><br>用瀏覽器的開發人員模式console發送request測試<br><img src="https://i.imgur.com/DNfVP7p.png" alt><br><img src="https://i.imgur.com/4dbIvcw.png" alt></p><h3 id="Passing-an-array-into-Google-App-Script"><a href="#Passing-an-array-into-Google-App-Script" class="headerlink" title="Passing an array into Google App Script ?"></a>Passing an array into Google App Script ?</h3><p>官方文件對參數的解釋是這樣的:</p><blockquote><p>e.parameter<br>An object of key/value pairs that correspond to the request parameters. Only the first value is returned for parameters that have multiple values.<br>{“name”: “alice”, “n”: “1”}</p></blockquote><blockquote><p>e.parameters<br>An object similar to e.parameter, but with an array of values for each key<br>{“name”: [“alice”], “n”: [“1”, “2”]}</p></blockquote><p>但實際測試的時候我也遇到如同<a href="https://tutorials.webduino.io/zh-tw/docs/socket/useful/google-sheet-1.html" target="_blank" rel="noopener">Webduino官方教學文</a>所說的，怎麼試就是無法透過e.parameters這個欄位傳遞參數呀！最後我也採用了相同的做法(汗)，直接傳遞字串到App Script裡頭再分割數據。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// doGet(e)</span></span><br><span class="line"><span class="keyword">var</span> params = e.parameter,</span><br><span class="line">    data = [<span class="string">'d1'</span>, <span class="string">'d2'</span>, <span class="string">'d3'</span>, <span class="string">'d4'</span>, <span class="string">'d5'</span>],</span><br><span class="line">    len = data.length,</span><br><span class="line">    counter = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(counter &lt;= len)&#123;</span><br><span class="line">  <span class="keyword">var</span> index = (counter - <span class="number">1.0</span>),</span><br><span class="line">      arr = params[data[index]];</span><br><span class="line">  <span class="keyword">if</span>(arr != <span class="literal">undefined</span>)&#123;</span><br><span class="line">    arr = arr.split(<span class="string">','</span>);</span><br><span class="line">    <span class="comment">// set value &lt;= getRange(row, col)</span></span><br><span class="line">    sheet.getRange(lastRow + counter, <span class="number">1</span>).setValue(arr[<span class="number">0</span>]);</span><br><span class="line">    sheet.getRange(lastRow + counter, <span class="number">2</span>).setValue(arr[<span class="number">1</span>]);</span><br><span class="line">    sheet.getRange(lastRow + counter, <span class="number">3</span>).setValue(arr[<span class="number">2</span>]);</span><br><span class="line">    sheet.getRange(lastRow + counter, <span class="number">4</span>).setValue(arr[<span class="number">3</span>]);</span><br><span class="line">    sheet.getRange(lastRow + counter, <span class="number">5</span>).setValue(arr[<span class="number">4</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  counter ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Lock"><a href="#Lock" class="headerlink" title="Lock"></a>Lock</h3><p>在透過Ajax對App Script發送請求寫入Spread Sheet的測試過程中，原本前端會對User填寫的每筆數據個別送出Ajax請求，雖然過於頻繁並非好的處理方式，但這也才讓我意識到同時間多個寫入請求的衝突及數據覆寫問題，所以後來整合成一次性的Ajax請求，改為在App Script處理、分割數據的方式。但這樣還沒解決衝突問題，偉大的Google當然也有考量到潛在的寫入衝突問題:</p><blockquote><h4 id="Class-Lock"><a href="#Class-Lock" class="headerlink" title="Class Lock"></a><a href="https://developers.google.com/apps-script/reference/lock/" target="_blank" rel="noopener">Class Lock</a></h4><p>A representation of a mutual-exclusion lock.</p><p>This class allows scripts to make sure that only one instance of the script is executing a given section of code at a time. This is particularly useful for callbacks and triggers, where a user action may cause changes to a shared resource and you want to ensure that aren’t collisions.</p></blockquote><p>藉由鎖定Script的方式，確保每個時刻只會有唯一的讀寫動作，來避免衝突問題。另外，SpreadsheetApp.flush()的使用也需特別留意。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get a script lock for modifying a shared resource</span></span><br><span class="line"><span class="keyword">var</span> lock = LockService.getScriptLock();</span><br><span class="line">lock.waitLock(<span class="number">30000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Do Something</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// you should call SpreadsheetApp.flush() prior to releasing the lock,</span></span><br><span class="line"><span class="comment">// to commit all pending changes to the spreadsheet</span></span><br><span class="line">SpreadsheetApp.flush();</span><br><span class="line">lock.releaseLock();</span><br></pre></td></tr></table></figure></p><h3 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h3><p>這問題耗了我整天的時間在測試…當Script更新並重新部署後，接下來卻發現，Ajax送出的請求一直抓不到參數，每個欄位都是呈現Undefined的狀態，但Debug.gs測試結果卻正常的很!!! 真是見鬼了…折騰半天我從測試結果合理推測部署的Web App所執行的不是最新版本，我在Stack Overflow也有找到相關討論:</p><ul><li><a href="https://stackoverflow.com/questions/18131157/" target="_blank" rel="noopener">POST to Google Apps Script web app does use latest version</a></li><li><a href="https://stackoverflow.com/questions/49170665/" target="_blank" rel="noopener">App script web change version for each deploy</a></li></ul><p>建立一個Web App再另外建立App Script把相關邏輯寫成library，然後在Web App去呼叫它，這是一種方式，但我覺得以簡單的應用而言太拐彎抹角了。只要修改並善用debug測試，確認沒問題後再部署為一個新版本，如此外部呼叫就不會有上述的舊版本問題。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;若想以Google表單來做一個簡易的daily time tracking，提交一次表單就是一筆數據，但每天的時間總是會適當地分配，如此就得重複填寫並送出表單…這真是一個不聰明的方法，若自己寫個網頁表單，request又被瀏覽器同源政策擋下來…就試著用App Script來解決這件事吧，我也沒寫過呢。
    
    </summary>
    
      <category term="Google" scheme="https://laplacetw.github.io/categories/Google/"/>
    
    
      <category term="google" scheme="https://laplacetw.github.io/tags/google/"/>
    
      <category term="spread sheet" scheme="https://laplacetw.github.io/tags/spread-sheet/"/>
    
  </entry>
  
  <entry>
    <title>個人化NexT主題</title>
    <link href="https://laplacetw.github.io/hexo-next-optimize/"/>
    <id>https://laplacetw.github.io/hexo-next-optimize/</id>
    <published>2019-05-02T16:35:50.000Z</published>
    <updated>2019-08-09T13:36:32.476Z</updated>
    
    <content type="html"><![CDATA[<p>2019/08/09更新。<br><a id="more"></a></p><h2 id="SEO-Search-Engine-Optimization"><a href="#SEO-Search-Engine-Optimization" class="headerlink" title="SEO(Search Engine Optimization)"></a>SEO(Search Engine Optimization)</h2><p></p><p><br><a href="https://www.google.com/webmasters" target="_blank" rel="noopener">Google Webmaster tools verification</a><br>輸入網址前置字元(部落格網址)，Google提供許多驗證方法，而我選擇的是HTML標記方法，在Hexo根目錄找到/themes/next/layout/_partials/head/head.swig，貼上Google所提供的<meta>標記，部署後按下驗證即可。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">"google-site-verification"</span> content=<span class="string">"&#123;verification code&#125;"</span> /&gt;</span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/Z9Kj7x3.png" alt><br><img src="https://i.imgur.com/ZQIQDI3.png" alt></p><h2 id="Font-Awsome-Icon"><a href="#Font-Awsome-Icon" class="headerlink" title="Font Awsome Icon"></a>Font Awsome Icon</h2><p>NexT自帶的版本為v4.7.0，到<a href="https://fontawesome.com/start" target="_blank" rel="noopener">官網</a>找新版本CDN連結，貼在/themes/next/layout/_partials/head/head.swig就能套用更多icon呢。<br><img src="https://i.imgur.com/bC6ng9U.png" alt></p><p>＊引入新版本後部分icon可能會因為class name改變而無法顯示<br><img src="https://i.imgur.com/X0Umdjr.png" alt></p><h3 id="Change-Side-Bar-Icon"><a href="#Change-Side-Bar-Icon" class="headerlink" title="Change Side Bar Icon"></a>Change Side Bar Icon</h3><p>檔案路徑:/themes/next/layout/_macro/sidebar.swig<br>修改social icon相關程式碼為:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="keyword">if</span> theme.social_icons.enable &#125;  <span class="comment">// ％符號會影響Code Block顯示因此在文章這裡移除</span></span><br><span class="line">    &#123; set sidebarIcon = <span class="string">'&lt;i class="'</span> + link.split(<span class="string">'||'</span>)[<span class="number">1</span>] | trim | <span class="keyword">default</span>(<span class="string">'globe'</span>) + <span class="string">'"&gt;&lt;/i&gt;'</span> &#125;</span><br><span class="line">&#123; endif &#125;</span><br></pre></td></tr></table></figure><br>如此在NexT Config就能直接設定Font Awsome的class name:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="attr">  GitHub:</span> <span class="attr">https://github.com/username</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span> <span class="string">fa-lg</span></span><br><span class="line"><span class="attr">  Linkedin:</span> <span class="attr">https://www.linkedin.com/</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-linkedin-in</span> <span class="string">fa-lg</span></span><br><span class="line"><span class="attr">  Twitter:</span> <span class="attr">https://twitter.com/</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-twitter</span> <span class="string">fa-lg</span></span><br><span class="line"><span class="attr">  E-Mail:</span> <span class="attr">mailto:username@gmail.com</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-envelope</span> <span class="string">fa-lg</span></span><br></pre></td></tr></table></figure><br><img src="https://i.imgur.com/f2Ssx2y.png" alt></p><h3 id="Change-Post-Icon"><a href="#Change-Post-Icon" class="headerlink" title="Change Post Icon"></a>Change Post Icon</h3><p>檔案路徑:themes/next/layout/_macro/post.swig<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"post-meta-item-icon"</span>&gt;</span><br><span class="line">    &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fas fa-calendar-alt"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;span class="post-meta-item-icon"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;i class="fas fa-folder-open"&gt;&lt;/i</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;span class="post-meta-item-icon"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;i class="fas fa-comment-dots"&gt;&lt;/i</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/span&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="Background-Style"><a href="#Background-Style" class="headerlink" title="Background Style"></a>Background Style</h2><p>檔案路徑:themes/next/source/css/_custom/custom.styl<br>參考<a href="https://slanceli.top/2019/02/18/深度美化Hexo（NexT主题）/#more" target="_blank" rel="noopener">Slanceli - 深度美化Hexo(NexT主题)</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">@<span class="keyword">media</span> screen and (min-width:<span class="number">1200px</span>)&#123;</span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">        <span class="attribute">background-image</span>:<span class="built_in">url</span>(/images/background.png);</span><br><span class="line">        <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">        <span class="attribute">background-attachment</span>:fixed;</span><br><span class="line">        <span class="attribute">background-position</span>:<span class="number">50%</span> <span class="number">60%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#footer</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:<span class="number">#eee</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// background</span><br><span class="line"><span class="selector-class">.main-inner</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// menu</span><br><span class="line"><span class="selector-class">.header-inner</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffffe8</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// footer</span><br><span class="line"><span class="selector-class">.footer</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Continue…"><a href="#Continue…" class="headerlink" title="Continue…"></a>Continue…</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2019/08/09更新。&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://laplacetw.github.io/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="https://laplacetw.github.io/tags/hexo/"/>
    
      <category term="github pages" scheme="https://laplacetw.github.io/tags/github-pages/"/>
    
  </entry>
  
  <entry>
    <title>Python自動填寫Google表單</title>
    <link href="https://laplacetw.github.io/python-auto-fill-out-google-form/"/>
    <id>https://laplacetw.github.io/python-auto-fill-out-google-form/</id>
    <published>2019-04-20T04:18:41.000Z</published>
    <updated>2019-05-01T08:34:12.181Z</updated>
    
    <content type="html"><![CDATA[<p>首先建個Google表單來測試：現任美國總統究竟是州普？卅普？還是川普？<br><a id="more"></a><br><img src="https://i.imgur.com/th41Uch.png" alt></p><p>打開瀏覽器的開發人員模式，切換到Network Panel並試著送出一次表單，可見formResponse有相當明顯的數據傳輸。<br><img src="https://i.imgur.com/7EDofS9.png" alt></p><p>展開查看詳情，在Header的部分可以找到剛才送出表單的資料結構，確定“entry.1216123536”就是所填寫的表單欄位，那麼可以開始寫程式了。<br><img src="https://i.imgur.com/O02YylJ.png" alt></p><h3 id="url"><a href="#url" class="headerlink" title="url"></a>url</h3><p></p><p><br>在Header摘要可見到url的格式為表單網址加上”/formResponse”，使用縮網址會無法重導向至正確的表單位址。</p><h3 id="data"><a href="#data" class="headerlink" title="data"></a>data</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">payload = &#123;</span><br><span class="line">    <span class="string">'entry.1216123536'</span> : <span class="string">''</span>,</span><br><span class="line">    <span class="string">'fvv'</span> : <span class="string">'0'</span>,</span><br><span class="line">    <span class="string">'draftResponse'</span> : <span class="string">'[]'</span>,</span><br><span class="line">    <span class="string">'pageHistory'</span> : <span class="string">'0'</span>,</span><br><span class="line">    <span class="string">'fbzx'</span> : <span class="string">'9150375950543103543'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><p></p><p><br>為了讓程式的行為看起來不那麼程式(?)，設置隨機填寫欄位值與隨機延遲時間。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"></span><br><span class="line">url = <span class="string">'https://docs.google.com/forms/d/e/********************/formResponse'</span></span><br><span class="line">params = [<span class="string">'州普'</span>, <span class="string">'卅普'</span>, <span class="string">'川普'</span>]</span><br><span class="line">payload = &#123;</span><br><span class="line">    <span class="string">'entry.1216123536'</span> : <span class="string">''</span>,</span><br><span class="line">    <span class="string">'fvv'</span> : <span class="string">'0'</span>,</span><br><span class="line">    <span class="string">'draftResponse'</span> : <span class="string">'[]'</span>,</span><br><span class="line">    <span class="string">'pageHistory'</span> : <span class="string">'0'</span>,</span><br><span class="line">    <span class="string">'fbzx'</span> : <span class="string">'9150375950543103543'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">num = <span class="number">10</span>  <span class="comment"># number of executions</span></span><br><span class="line">period = np.arange(<span class="number">0.5</span>, <span class="number">5.0</span>, <span class="number">0.1</span>)</span><br><span class="line">delay = <span class="number">0</span>  <span class="comment"># delay of execution</span></span><br><span class="line"><span class="keyword">while</span> num &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        payload[<span class="string">'entry.1216123536'</span>] = random.choice(params)  <span class="comment"># random choice</span></span><br><span class="line">        res = rq.post(url, data=payload)</span><br><span class="line">        res.raise_for_status()</span><br><span class="line">        <span class="keyword">if</span> res.status_code == <span class="number">200</span> :</span><br><span class="line">            delay = round(random.choice(period), <span class="number">2</span>)  <span class="comment"># round off to the 2nd decimal place</span></span><br><span class="line">            print(<span class="string">'Fill Out : '</span> + payload[<span class="string">'entry.1216123536'</span>] + <span class="string">' delay : '</span> + str(delay) + <span class="string">' sec'</span>)</span><br><span class="line">            time.sleep(delay)</span><br><span class="line">    <span class="keyword">except</span> rq.HTTPError:</span><br><span class="line">        print(<span class="string">'HTTP Error!'</span>)</span><br><span class="line">    </span><br><span class="line">    num -= <span class="number">1</span></span><br></pre></td></tr></table></figure></p><p><img src="https://i.imgur.com/jKfaOP4.png" alt></p><p>↓ 嗯，只有兩個人答對呢(?)<br><img src="https://i.imgur.com/zodJ6IR.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先建個Google表單來測試：現任美國總統究竟是州普？卅普？還是川普？&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="https://laplacetw.github.io/categories/Python/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="google form" scheme="https://laplacetw.github.io/tags/google-form/"/>
    
  </entry>
  
  <entry>
    <title>Hexo on GitHub Pages:Icarus主題</title>
    <link href="https://laplacetw.github.io/hexo-theme-icarus/"/>
    <id>https://laplacetw.github.io/hexo-theme-icarus/</id>
    <published>2019-04-11T16:42:21.000Z</published>
    <updated>2019-05-01T16:55:43.998Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://theme-next.iissnan.com&quot;" target="_blank" rel="noopener">NexT</a>主題實在是太多人用了，看得有點膩，最近看到Icarus主題覺得很Blog(?)，決定來換個主題。<br><a id="more"></a></p><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd blog</span><br><span class="line">git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus</span><br><span class="line">hexo s  # run on local host</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/KaGH5Gm.png" alt></p><hr><h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><p></p><p><br>參考<a href="https://blog.zhangruipeng.me/hexo-theme-icarus/categories/" target="_blank" rel="noopener">官方文件</a>，主要配置：</p><h3 id="Favicon-amp-Logo"><a href="#Favicon-amp-Logo" class="headerlink" title="Favicon &amp; Logo"></a>Favicon &amp; Logo</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Version of the Icarus theme that is currently used</span></span><br><span class="line"><span class="attr">version:</span> <span class="number">2.3</span><span class="number">.0</span></span><br><span class="line"><span class="comment"># Path or URL to the website's icon</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/images/favicon.svg</span></span><br><span class="line"><span class="comment"># Path or URL to RSS atom.xml</span></span><br><span class="line"><span class="attr">rss:</span> </span><br><span class="line"><span class="comment"># Path or URL to the website's logo to be shown on the left of the navigation bar or footer</span></span><br><span class="line"><span class="attr">logo:</span> <span class="string">/images/logo.svg</span></span><br></pre></td></tr></table></figure><p>＊ 推薦兩個SVG線上製作工具：<a href="https://www.vectorizer.io" target="_blank" rel="noopener">Image Vectorizer</a>、<a href="http://vectorpaint.yaks.co.nz" target="_blank" rel="noopener">SVG Editor</a></p><h3 id="Navbar-amp-Footer"><a href="#Navbar-amp-Footer" class="headerlink" title="Navbar &amp; Footer"></a>Navbar &amp; Footer</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Navigation bar link settings</span></span><br><span class="line"><span class="attr">navbar:</span></span><br><span class="line">    <span class="comment"># Navigation bar menu links</span></span><br><span class="line"><span class="attr">    menu:</span></span><br><span class="line"><span class="attr">        Home:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">        Archives:</span> <span class="string">/archives</span></span><br><span class="line"><span class="attr">        Categories:</span> <span class="string">/categories</span></span><br><span class="line"><span class="attr">        Tags:</span> <span class="string">/tags</span></span><br><span class="line">        <span class="comment"># About: /about</span></span><br><span class="line">    <span class="comment"># Navigation bar links to be shown on the right</span></span><br><span class="line"><span class="attr">    links:</span></span><br><span class="line"><span class="attr">        GitHub_LaplaceTW:</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line"><span class="attr">            url:</span> <span class="string">'https://github.com/laplacetw'</span></span><br><span class="line"><span class="comment"># Footer section link settings</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">    <span class="comment"># Links to be shown on the right of the footer section</span></span><br><span class="line"><span class="attr">    links:</span></span><br><span class="line">        <span class="string">CC</span> <span class="string">BY</span> <span class="number">4.0</span><span class="string">:</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">fab</span> <span class="string">fa-creative-commons</span></span><br><span class="line"><span class="attr">            url:</span> <span class="string">'https://creativecommons.org/licenses/by/4.0/'</span></span><br></pre></td></tr></table></figure><h3 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h3><p></p><p><br>評論系統使用DISQUS服務<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comment:</span></span><br><span class="line">    <span class="comment"># Name of the comment plugin</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">disqus</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    shortname:</span> <span class="string">&#123;disqus</span> <span class="string">shortname&#125;</span></span><br><span class="line"><span class="attr">    count:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    lazyload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></p><h3 id="Wiget"><a href="#Wiget" class="headerlink" title="Wiget"></a>Wiget</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">widgets:</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">profile</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">left</span></span><br><span class="line">        <span class="comment"># Author name to be shown in the profile widget</span></span><br><span class="line"><span class="attr">        author:</span> <span class="string">LaplaceTW</span></span><br><span class="line">        <span class="comment"># Title of the author to be shown in the profile widget</span></span><br><span class="line"><span class="attr">        author_title:</span> <span class="string">learning</span> <span class="string">by</span> <span class="string">doing</span></span><br><span class="line">        <span class="comment"># Author's current location to be shown in the profile widget</span></span><br><span class="line"><span class="attr">        location:</span> <span class="string">Taiwan,</span> <span class="string">Earth</span></span><br><span class="line">        <span class="comment"># Path or URL to the avatar to be shown in the profile widget</span></span><br><span class="line"><span class="attr">        avatar:</span> </span><br><span class="line">        <span class="comment"># Email address for the Gravatar to be shown in the profile widget</span></span><br><span class="line"><span class="attr">        gravatar:</span> </span><br><span class="line">        <span class="comment"># Whether to show avatar image rounded or square</span></span><br><span class="line"><span class="attr">        avatar_rounded:</span> <span class="literal">false</span></span><br><span class="line">        <span class="comment"># Path or URL for the follow button</span></span><br><span class="line"><span class="attr">        follow_link:</span> <span class="string">'https://github.com/laplacetw'</span></span><br><span class="line">        <span class="comment"># Links to be shown on the bottom of the profile widget</span></span><br><span class="line"><span class="attr">        social_links:</span></span><br><span class="line"><span class="attr">            Email:</span></span><br><span class="line"><span class="attr">                icon:</span> <span class="string">far</span> <span class="string">fa-envelope</span></span><br><span class="line"><span class="attr">                url:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">            Github:</span></span><br><span class="line"><span class="attr">                icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line"><span class="attr">                url:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">            Linkedin:</span></span><br><span class="line"><span class="attr">                icon:</span> <span class="string">fab</span> <span class="string">fa-linkedin</span></span><br><span class="line"><span class="attr">                url:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">            RSS:</span></span><br><span class="line"><span class="attr">                icon:</span> <span class="string">fas</span> <span class="string">fa-rss</span></span><br><span class="line"><span class="attr">                url:</span> <span class="string">/atom.xml</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (文章內容目錄)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">toc</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">right</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (友情連結)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">links</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">left</span></span><br><span class="line">        <span class="comment"># Links to be shown in the links widget</span></span><br><span class="line"><span class="attr">        links:</span></span><br><span class="line"><span class="attr">            Hexo:</span> <span class="string">'https://hexo.io'</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (全站分類)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">category</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">left</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (最新文章)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">recent_posts</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">right</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (時間軸)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">archive</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">right</span></span><br><span class="line"><span class="bullet">    -</span></span><br><span class="line">        <span class="comment"># Widget name (標籤雲)</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">tagcloud</span></span><br><span class="line">        <span class="comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="attr">        position:</span> <span class="string">right</span></span><br></pre></td></tr></table></figure><p>＊ hyphen 為每個 Wiget 的起始，多一個少一個都會導致Error</p><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p></p><p><br>啟用不蒜子網站流量統計設定(預設為關閉)<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">    <span class="comment"># BuSuanZi site/page view counter</span></span><br><span class="line">    <span class="comment"># https://busuanzi.ibruce.info</span></span><br><span class="line"><span class="attr">    busuanzi:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><hr><p><img src="https://i.imgur.com/DXsTbdB.png" alt><br><img src="https://i.imgur.com/9t5QT9J.png" alt><br>更進一步個人化ICARUS主題的部分，例如調整文章版面配置、文末版權宣告等，網路教學的版本似乎都有點舊了，自己也是搞了很久…我懶得寫了，因為代碼高亮的問題一直無法順利解決，浪費太多時間了。一番折騰後我又換回NEXT…</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://theme-next.iissnan.com&amp;quot;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NexT&lt;/a&gt;主題實在是太多人用了，看得有點膩，最近看到Icarus主題覺得很Blog(?)，決定來換個主題。&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://laplacetw.github.io/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="https://laplacetw.github.io/tags/hexo/"/>
    
      <category term="github pages" scheme="https://laplacetw.github.io/tags/github-pages/"/>
    
  </entry>
  
  <entry>
    <title>Hexo on GitHub Pages:不蒜子統計失效</title>
    <link href="https://laplacetw.github.io/hexo-error-busuanzi/"/>
    <id>https://laplacetw.github.io/hexo-error-busuanzi/</id>
    <published>2018-10-12T17:06:22.000Z</published>
    <updated>2019-05-01T08:39:14.847Z</updated>
    
    <content type="html"><![CDATA[<p>今天PO文後發現…所以我說那個文章閱讀次數呢?頁面底部的流量統計也消失了。<br><a id="more"></a><br>推測是.js檔出了什麼問題，先到<a href="https://busuanzi.ibruce.info" target="_blank" rel="noopener">不蒜子</a>的頁面瞧瞧，發現一行小小的紅字，寫著「因七牛強制過期『dn-lbstatics.qbox.me』域名，與客服溝通無果，只能更換域名到『busuanzi.ibruce.info』!」，雖然不知道七牛到底是什麼牛，但可以確定問題來源是域名更換。</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p></p><p><br>在NexT資料夾中找到不蒜子的設定檔，路徑為layout/_third-party/analytics/busuanzi-counter.swig<br><img src="https://i.imgur.com/rpVQnFj.png" alt></p><p>修改.js路徑為:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>重新deploy後便會發現統計數字又回來啦。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天PO文後發現…所以我說那個文章閱讀次數呢?頁面底部的流量統計也消失了。&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://laplacetw.github.io/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="https://laplacetw.github.io/tags/hexo/"/>
    
      <category term="github pages" scheme="https://laplacetw.github.io/tags/github-pages/"/>
    
  </entry>
  
  <entry>
    <title>Excel:公式、圖表與樞紐分析</title>
    <link href="https://laplacetw.github.io/excel-func-chart-pivot-table/"/>
    <id>https://laplacetw.github.io/excel-func-chart-pivot-table/</id>
    <published>2018-10-12T01:22:04.000Z</published>
    <updated>2019-04-29T15:15:52.026Z</updated>
    
    <content type="html"><![CDATA[<p>常用公式、圖表與樞紐分析之基本操作。<br><a id="more"></a></p><h1 id="常用公式"><a href="#常用公式" class="headerlink" title="常用公式"></a>常用公式</h1><p><br></p><h2 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h2><ul><li>用法:IF(條件,符合條件,不符合條件)</li><li>範例:判斷訂單金額是否大於70(億)<br><img src="https://i.imgur.com/wQeP7th.png" alt></li></ul><h2 id="多重條件判斷"><a href="#多重條件判斷" class="headerlink" title="多重條件判斷"></a>多重條件判斷</h2><ul><li>用法:IF(條件,IF(…),不符合條件)</li><li>範例:呈上例，進一步做訂單金額分級<br><img src="https://i.imgur.com/27kZEy2.png" alt></li></ul><h2 id="SUM"><a href="#SUM" class="headerlink" title="SUM"></a>SUM</h2><ul><li>用法:SUM(範圍1,範圍2…)</li><li>範例:計算化學品與塑膠/橡膠年度訂單金額加總<br><img src="https://i.imgur.com/krLlYE2.png" alt></li></ul><h2 id="MAX"><a href="#MAX" class="headerlink" title="MAX"></a>MAX</h2><ul><li>用法:MAX(範圍1,範圍2…)</li><li>範例:找出各類別每月訂單金額中最高者<br><img src="https://i.imgur.com/uDmIaxx.png" alt></li></ul><h2 id="INT-ROUND"><a href="#INT-ROUND" class="headerlink" title="INT/ROUND"></a>INT/ROUND</h2><ul><li>用法:INT(儲存格)/ROUND(儲存格,小數位數)</li><li>範例:INT無條件捨去/ROUND四捨五入<br><img src="https://i.imgur.com/sZLMI11.png" alt></li></ul><h2 id="AVERAGE"><a href="#AVERAGE" class="headerlink" title="AVERAGE"></a>AVERAGE</h2><ul><li>用法:AVERAGE(範圍1,範圍2…)</li><li>範例:計算年度平均值之無條件捨去與四捨五入<br><img src="https://i.imgur.com/F8FyAzn.png" alt></li></ul><h2 id="SUMIF"><a href="#SUMIF" class="headerlink" title="SUMIF"></a>SUMIF</h2><ul><li>用法:SUMIF(條件範圍,條件,合計範圍)</li><li>範例:計算各種商品之銷售總額<br><img src="https://i.imgur.com/xz1FZ5Z.png" alt></li></ul><h2 id="COUNTIF"><a href="#COUNTIF" class="headerlink" title="COUNTIF"></a>COUNTIF</h2><ul><li>用法:COUNTIF(條件範圍,條件)</li><li>範例:統計年度化學品訂單金額分級<br><img src="https://i.imgur.com/V7LXB0g.png" alt></li></ul><h2 id="VLOOKUP"><a href="#VLOOKUP" class="headerlink" title="VLOOKUP"></a>VLOOKUP</h2><ul><li>用法:VLOOKUP(搜尋條件,範圍,目標欄位,精確度)</li><li>範例:搜尋指定月份訂單金額<br><img src="https://i.imgur.com/sa39mn2.png" alt></li></ul><h2 id="多條件搜尋"><a href="#多條件搜尋" class="headerlink" title="多條件搜尋"></a>多條件搜尋</h2><ul><li>用法:LOOKUP(1,0/((條件1)<em>(條件2)</em>…),目標範圍)</li><li>範例:尋找訂單金額分級為Ａ級且大於100(億)之月份<br><img src="https://i.imgur.com/kJxlPKI.png" alt></li></ul><h2 id="重點整理"><a href="#重點整理" class="headerlink" title="重點整理"></a>重點整理</h2><table><thead><tr><th style="text-align:center">公式</th><th style="text-align:center">說明  </th></tr></thead><tbody><tr><td style="text-align:center">IF</td><td style="text-align:center">條件式</td></tr><tr><td style="text-align:center">SUM</td><td style="text-align:center">加總</td></tr><tr><td style="text-align:center">MAX</td><td style="text-align:center">最大值</td></tr><tr><td style="text-align:center">INT</td><td style="text-align:center">無條件捨去</td></tr><tr><td style="text-align:center">ROUND</td><td style="text-align:center">四捨五入</td></tr><tr><td style="text-align:center">AVERAGE</td><td style="text-align:center">平均值</td></tr><tr><td style="text-align:center">SUMIF</td><td style="text-align:center">有條件加總</td></tr><tr><td style="text-align:center">COUNTIF</td><td style="text-align:center">有條件統計</td></tr><tr><td style="text-align:center">VLOOKUP</td><td style="text-align:center">尋找      </td></tr></tbody></table><hr><h1 id="常用圖表"><a href="#常用圖表" class="headerlink" title="常用圖表"></a>常用圖表</h1><p><br></p><h2 id="錯誤範例"><a href="#錯誤範例" class="headerlink" title="錯誤範例"></a>錯誤範例</h2><p>說明:折線圖所表達的為<span style="color:red;">趨勢、變化</span>，而下圖中水平軸項目為類別，離散型數據不具連續性，這樣的圖表<strong>不具任何意義</strong>，應使用直條圖比較各項目之大小，或使用圓形圖呈現各項目佔整體之比重。<br><img src="https://i.imgur.com/UswDs8J.png" alt></p><h2 id="基本設定"><a href="#基本設定" class="headerlink" title="基本設定"></a>基本設定</h2><ul><li>圖表設計與格式設定在圖表工具的頁籤中</li><li>圖表項目細部設定在圖表右側的”＋”號中<br><img src="https://i.imgur.com/67Z3T4H.png" alt></li></ul><h2 id="直條圖"><a href="#直條圖" class="headerlink" title="直條圖"></a>直條圖</h2><ul><li>使用時機:做<span style="color:red;">比較</span>，呈現數據的「相對大小」</li><li>範例:100年度化學品外銷月訂單金額比較<br><img src="https://i.imgur.com/sHPqEjn.png" alt></li></ul><h2 id="堆疊直條圖"><a href="#堆疊直條圖" class="headerlink" title="堆疊直條圖"></a>堆疊直條圖</h2><ul><li>範例說明:呈現整體營業額與個別業務人員表現，可明顯看出業務A(藍色區塊)與業務C(灰色區塊)的成長與衰退，以及對整體的影響。<br><img src="https://i.imgur.com/UcZuOEu.png" alt></li></ul><h2 id="折線圖"><a href="#折線圖" class="headerlink" title="折線圖"></a>折線圖</h2><ul><li>使用時機:讀<span style="color:red;">趨勢</span>，呈現數據的「變化、走勢」</li><li>範例:100年度化學品外銷月訂單金額走勢<br><img src="https://i.imgur.com/FATm3bE.png" alt></li></ul><h2 id="圓形圖"><a href="#圓形圖" class="headerlink" title="圓形圖"></a>圓形圖</h2><ul><li>使用時機:看<span style="color:red;">比例</span>，呈現數據的「相對比例」</li><li>範例:100年度外銷訂單項目比重<br><img src="https://i.imgur.com/TBfdio3.png" alt></li></ul><h2 id="重點整理-1"><a href="#重點整理-1" class="headerlink" title="重點整理"></a>重點整理</h2><p>數據視覺化須依據所欲呈現之數據統計摘要，進而選擇適當的圖表形式，避免<span style="color:red;">誤用圖表、為分析而分析</span>。</p><ul><li>直條圖:做<span style="color:red;">比較</span></li><li>折線圖:讀<span style="color:red;">趨勢</span></li><li>圓形圖:看<span style="color:red;">比例</span></li></ul><hr><h1 id="樞紐分析"><a href="#樞紐分析" class="headerlink" title="樞紐分析"></a>樞紐分析</h1><p>以經濟部101-106年外銷美國訂單統計資料為例。</p><h2 id="Step-1-選取數據範圍"><a href="#Step-1-選取數據範圍" class="headerlink" title="Step 1:選取數據範圍"></a>Step 1:選取數據範圍</h2><p><strong>數據範圍中不允許空白欄位</strong></p><p><img src="https://i.imgur.com/joDfNB9.png" alt></p><h2 id="欄位說明"><a href="#欄位說明" class="headerlink" title="欄位說明"></a>欄位說明</h2><ul><li>篩選:報表之篩選條件</li><li>欄  :樞紐分析表<span style="color:red;">行</span>數據</li><li>列  :樞紐分析表<span style="color:red;">列</span>數據</li><li>值  :欲統計之數據，例如加總、平均值</li></ul><p><img src="https://i.imgur.com/UH01LrN.png" alt></p><h2 id="Step-2-拖曳調整欄位與排列順序"><a href="#Step-2-拖曳調整欄位與排列順序" class="headerlink" title="Step 2:拖曳調整欄位與排列順序"></a>Step 2:拖曳調整欄位與排列順序</h2><p><img src="https://i.imgur.com/E8Alrt1.png" alt><br>↓點選值欄位設定可選擇其他計算類型<br><img src="https://i.imgur.com/tEI1LCA.png" alt></p><h2 id="Step-3-插入樞紐分析圖"><a href="#Step-3-插入樞紐分析圖" class="headerlink" title="Step 3:插入樞紐分析圖"></a>Step 3:插入樞紐分析圖</h2><p>樞紐分析工具(頁籤) –&gt; 分析 –&gt; 樞紐分析圖</p><p><img src="https://i.imgur.com/2bgZqAX.png" alt></p><h2 id="樞紐分析-堆疊直條圖"><a href="#樞紐分析-堆疊直條圖" class="headerlink" title="樞紐分析-堆疊直條圖"></a>樞紐分析-堆疊直條圖</h2><p><img src="https://i.imgur.com/UGRPdUl.png" alt></p><h2 id="樞紐分析-圓形圖"><a href="#樞紐分析-圓形圖" class="headerlink" title="樞紐分析-圓形圖"></a>樞紐分析-圓形圖</h2><p><strong>注意圖表的行列數據呈現是否合適</strong></p><p><img src="https://i.imgur.com/B5bdN0S.png" alt><br>↓調整行列數據<br><img src="https://i.imgur.com/0WAn7Aa.png" alt><br>↓調整後<br><img src="https://i.imgur.com/itrWKwo.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;常用公式、圖表與樞紐分析之基本操作。&lt;br&gt;
    
    </summary>
    
      <category term="Excel" scheme="https://laplacetw.github.io/categories/Excel/"/>
    
    
      <category term="excel" scheme="https://laplacetw.github.io/tags/excel/"/>
    
      <category term="pivot table" scheme="https://laplacetw.github.io/tags/pivot-table/"/>
    
  </entry>
  
  <entry>
    <title>Django2.0筆記(3):軟體架構</title>
    <link href="https://laplacetw.github.io/django-software-architecture/"/>
    <id>https://laplacetw.github.io/django-software-architecture/</id>
    <published>2018-09-24T16:32:58.000Z</published>
    <updated>2019-08-09T16:08:02.145Z</updated>
    
    <content type="html"><![CDATA[<p>模型、視圖與模板。<br><a id="more"></a></p><h2 id="Model–View–Controller"><a href="#Model–View–Controller" class="headerlink" title="Model–View–Controller"></a>Model–View–Controller</h2><ul><li>Model: 資料庫存取</li><li>View:  使用者介面</li><li>Controller: 控制整合</li></ul><p>說到網頁開發，就不得不提一下MVC架構，維基百科如是說：MVC為軟體工程中的一種軟體架構，將軟體系統分為三個部分：模型(Model)、視圖(View)和控制器(Controller)，目的是為了實現一種<span style="color:red;">動態</span>的程式設計，使後續對程式的修改及擴充簡化，並且使程式某一部分的重複利用成為可能。</p><p>MVC是一種<span style="color:red;">設計理念</span>而非技術，旨在提高開發項目的可擴展性及可維護性，而這樣一個從實際開發所歸納出來的抽象概念，事實上其定義是相當模糊的，尤其是在經過了多年發展後…在Django筆記就不多做探討了。</p><h2 id="Model-Template-View"><a href="#Model-Template-View" class="headerlink" title="Model-Template-View"></a>Model-Template-View</h2><ul><li>Model: 資料庫存取</li><li>Template: 使用者介面</li><li>View:  控制整合</li></ul><p>Django雖然看似獨樹一格自定義了MTV架構，但MTV和MVC的概念是相同的，我嘗試畫了架構對照圖：<br><img src="https://i.imgur.com/vAeWv7K.png" alt><br>以較為白話的方式來描述MTV架構，就是依開發需求去定義Model在資料庫中生成對應的Table，透過View所定義的程式邏輯去整合、控制數據，再交由負責前端的Template呈現給使用者，而使用者亦是透過Template和後端數據做互動。</p><p>我認為Django初學者只是抽象地討論MTV是無法很好地理解其互動關係的，還是喜歡learning by doing。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;模型、視圖與模板。&lt;br&gt;
    
    </summary>
    
      <category term="Django" scheme="https://laplacetw.github.io/categories/Django/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="django" scheme="https://laplacetw.github.io/tags/django/"/>
    
      <category term="web" scheme="https://laplacetw.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>Django2.0筆記(2):專案設定與應用程式</title>
    <link href="https://laplacetw.github.io/django-app-and-settings/"/>
    <id>https://laplacetw.github.io/django-app-and-settings/</id>
    <published>2018-09-21T16:55:08.000Z</published>
    <updated>2019-08-09T16:06:49.976Z</updated>
    
    <content type="html"><![CDATA[<p>專案下的環境設定、如何建立Django App。<br><a id="more"></a></p><h2 id="Settings-py"><a href="#Settings-py" class="headerlink" title="Settings.py"></a>Settings.py</h2><p>在Windows terminal透過tree指令可查看專案結構<br><img src="https://i.imgur.com/19G7Lvu.jpg" alt><br>Mac環境下要使用tree指令則需另外安裝package :<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tree</span><br></pre></td></tr></table></figure><br>從專案結構可以發現，根目錄下有個和專案名稱相同的資料夾，其中主要有3個檔案:</p><ul><li>settings.py : 專案設定檔</li><li>url.py      : 網頁路徑設定</li><li>wsgi.py     : 伺服器閘道介面設定</li></ul><p>＊ manage.py為負責專案管理的Python指令檔<br>＊ 什麼是WSGI(Web Server Gateway Interface)? 簡而言之，WSGI就是Server與Web App之間的溝通介面</p><p>開啟settings.py，可以看到官方註解寫得挺詳細的，主要設定：</p><ul><li><p>除錯模式設定為True表示網頁拋出Error會直接顯示錯誤訊息，正式發佈網站前務必記得關閉，以免網站弱點就這麼公開了(汗)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> SECURITY WARNING: don<span class="string">'t run with debug turned on in production!</span></span></span><br><span class="line">DEBUG = True</span><br></pre></td></tr></table></figure></li><li><p>新建立的App必須在這裡被定義</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Application definition</span></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    ‘&#123;app_name&#125;’,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>網頁模版路徑</p></li></ul><p>在專案目錄下建立templates資料夾:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md templates  # build folder for web templates</span><br></pre></td></tr></table></figure><br>＊ Mac terminal建立資料夾指令和Linux同為mkdir</p><p>接著在settings.py中設定路徑，於TEMPLATES中的’DIRS’加入：<br><span cstyle="color:red;">os.path.join(BASE_DIR, ‘templates’)</span><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</span><br><span class="line">        <span class="string">'DIRS'</span>: [os.path.join(BASE_DIR, <span class="string">'templates'</span>)],</span><br><span class="line">        <span class="string">'APP_DIRS'</span>: <span class="keyword">True</span>,</span><br><span class="line">        <span class="string">'OPTIONS'</span>: &#123;</span><br><span class="line">            <span class="string">'context_processors'</span>: [</span><br><span class="line">                <span class="string">'django.template.context_processors.debug'</span>,</span><br><span class="line">                <span class="string">'django.template.context_processors.request'</span>,</span><br><span class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</span><br><span class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><ul><li><p>語系、時區:修改為繁體中文、台灣時區</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LANGUAGE_CODE = <span class="string">'zh-Hant'</span></span><br><span class="line"></span><br><span class="line">TIME_ZONE = <span class="string">'Asia/Taipei'</span></span><br></pre></td></tr></table></figure></li><li><p>靜態文件路徑</p></li></ul><p>在專案目錄下建立static資料夾:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md static  # build folder for static files(e.g. css, images...)</span><br></pre></td></tr></table></figure><br>接著在settings.py中設定路徑，於”STATIC_URL”後面加上:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STATICFILES_DIRS = [</span><br><span class="line">    os.path.join(BASE_DIR, <span class="string">'static'</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><hr><h2 id="Django-App"><a href="#Django-App" class="headerlink" title="Django App"></a>Django App</h2><p>建立應用程式，專案底下可建立多個App，而每個App都可以視為Package<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> start virtual environment first</span></span><br><span class="line">cd &#123;project_name&#125;</span><br><span class="line">python manage.py startapp &#123;app_name&#125;  # build application</span><br><span class="line"></span><br><span class="line">python manage.py makemigrations &#123;app_name(optional)&#125;  # build data migration for database</span><br><span class="line">python manage.py migrate &#123;app_name(optional)&#125;  # data synchronization</span><br></pre></td></tr></table></figure></p><p>＊ makemigrations與migrate為資料庫同步設定，預設為對所有應用程式同步，因此應用程式名稱為選填</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;專案下的環境設定、如何建立Django App。&lt;br&gt;
    
    </summary>
    
      <category term="Django" scheme="https://laplacetw.github.io/categories/Django/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="django" scheme="https://laplacetw.github.io/tags/django/"/>
    
      <category term="web" scheme="https://laplacetw.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>Django2.0筆記(1):從零開始</title>
    <link href="https://laplacetw.github.io/django-start/"/>
    <id>https://laplacetw.github.io/django-start/</id>
    <published>2018-09-19T15:55:31.000Z</published>
    <updated>2019-08-09T16:07:04.235Z</updated>
    
    <content type="html"><![CDATA[<p>近期耗費大量心力在學習Django，因為Google搜尋到的教學文多數版本停留在Django 1.x，對初學者來說略過太多細節。<a id="more"></a>作為WEB初學者，Django有許多概念並不是很直觀，必須實際測試來幫助自己理解。目前所使用的版本為Django 2.1，於是我踩了相當、相當多的坑，感謝無數撰寫教學文的高手前輩讓自己學習了很多。在各種線索的拼湊之下、終於讓Django Project在Apache Server順利運作了(汗)。</p><h1 id="Django-Virtual-Environment-amp-New-Project"><a href="#Django-Virtual-Environment-amp-New-Project" class="headerlink" title="Django:Virtual Environment &amp; New Project"></a>Django:Virtual Environment &amp; New Project</h1><p>雖然網路上有許多教學文，但最詳細也最可靠的還是官方文件：<a href="https://docs.djangoproject.com/en/2.1/" target="_blank" rel="noopener">Django2.1 Doc</a>。</p><h2 id="Virtual-Environment-for-Django"><a href="#Virtual-Environment-for-Django" class="headerlink" title="Virtual Environment for Django"></a>Virtual Environment for Django</h2><p>開發Django Project建議另建一個乾淨的虛擬環境，只安裝專案所需套件，Python環境建置就不贅述，從安裝及建立虛擬環境開始:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pip install virtualenv  # install virtual environment package</span><br><span class="line">cd c:\</span><br><span class="line">virtualenv &#123;virtualenv_name&#125;  # build virtual environment for Django</span><br><span class="line"></span><br><span class="line">cd &#123;virtualenv_name&#125;</span><br><span class="line">Scripts\activate  # start virtual environment</span><br><span class="line">pip install django  # install Django package</span><br><span class="line">deactivate  # stop virtual environment</span><br></pre></td></tr></table></figure><br>＊ 在Mac環境下啟動虛擬環境的指令為source bin/activate<br>＊ 提示字元前面的(virtualenv_name)表示目前已啟動虛擬環境</p><h2 id="Start-New-Django-Project"><a href="#Start-New-Django-Project" class="headerlink" title="Start New Django Project"></a>Start New Django Project</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> start virtual environment first</span></span><br><span class="line">django-admin startproject &#123;project_name&#125;  # build new project</span><br></pre></td></tr></table></figure><h2 id="Run-Django-Server"><a href="#Run-Django-Server" class="headerlink" title="Run Django Server"></a>Run Django Server</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> start virtual environment first</span></span><br><span class="line">cd &#123;project_name&#125;</span><br><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure><p>＊ 在專案目錄下成功啟動測試Server後，在瀏覽器輸入127.0.0.1:8000，應該要看見以下畫面：<br><img src="https://i.imgur.com/9pdBamW.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;近期耗費大量心力在學習Django，因為Google搜尋到的教學文多數版本停留在Django 1.x，對初學者來說略過太多細節。
    
    </summary>
    
      <category term="Django" scheme="https://laplacetw.github.io/categories/Django/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="django" scheme="https://laplacetw.github.io/tags/django/"/>
    
      <category term="web" scheme="https://laplacetw.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>兩個月後的魚缸</title>
    <link href="https://laplacetw.github.io/restart-planted-tank-2month/"/>
    <id>https://laplacetw.github.io/restart-planted-tank-2month/</id>
    <published>2018-09-16T17:03:12.000Z</published>
    <updated>2019-04-18T15:46:47.152Z</updated>
    
    <content type="html"><![CDATA[<p>近況更新。</p><ul><li>前景的牛毛氈因為長得過高更換為很趴又很會爬的新大珍珠草</li><li>綠宮廷一直縮頂…只好汰除…我還得多努力<a id="more"></a></li><li>後景增加了紅雨傘…但好景不常，其實是我不會照顧呵，變成綠雨傘了ＱＱ</li><li>藍綠藻解決後換黑毛藻…石頭全拿掉…開始投藥(TBS)，目前蝦子全掛ＱＱ</li><li>珊瑚莫斯沈木因黑毛藻而被檸檬酸處理後看起來了無生機，目前有恢復的跡象</li></ul><p>↓紅雨傘剛種植＋紅宮廷重新種植後的樣子(汗)<br><img src="https://i.imgur.com/po1wwVW.jpg" alt></p><p><img src="https://i.imgur.com/UL8a4xC.jpg" alt></p><p>我想，之後重新整理，可能會換成一呎的魚缸，然後底土一樣矽沙，但會嘗試鋪設基肥，大概會用洗衣袋裝著吧，免得造成日後矽沙要重複使用的麻煩。</p><p>再努力。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;近況更新。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前景的牛毛氈因為長得過高更換為很趴又很會爬的新大珍珠草&lt;/li&gt;
&lt;li&gt;綠宮廷一直縮頂…只好汰除…我還得多努力
    
    </summary>
    
      <category term="Aquarium" scheme="https://laplacetw.github.io/categories/Aquarium/"/>
    
    
      <category term="aquarium" scheme="https://laplacetw.github.io/tags/aquarium/"/>
    
      <category term="planted tank" scheme="https://laplacetw.github.io/tags/planted-tank/"/>
    
  </entry>
  
  <entry>
    <title>資料科學筆記(4)：正則式與re模組</title>
    <link href="https://laplacetw.github.io/data-sci-re/"/>
    <id>https://laplacetw.github.io/data-sci-re/</id>
    <published>2018-09-16T06:58:17.000Z</published>
    <updated>2019-05-01T09:00:09.985Z</updated>
    
    <content type="html"><![CDATA[<p>什麼是正則式(Regex)？常見的說法有正規表示式、正則表達式…等等，維基百科是如此描述的：使用單個字串來描述、符合某個句法規則的字串。在很多文字編輯器裡，正則運算式通常被用來檢索、替換那些符合某個模式的文字，總之就是「描述某種規則的表達式」。<br><a id="more"></a><br>舉例來說，email address其格式具有一定規則，假設要在一堆密密麻麻的html中尋找Gmail郵件地址，就必須使用正則式來描述過濾規則，讓程式能準確判斷出符合Gmail郵件地址格式的字串。<br><img src="https://i.imgur.com/lZufQJS.png" alt></p><h2 id="Pythex"><a href="#Pythex" class="headerlink" title="Pythex"></a>Pythex</h2><p>上述示範如何用正則式表達Gmail郵件地址規則的網站為<a href="https://pythex.org" target="_blank" rel="noopener">pythex.org</a>，可以用來驗證Regex正確與否，因為Regex的符號有點複雜，該頁面也相當貼心地放了速查表呢～只要按下regular expression cheatsheet按鈕即可查看。<br><img src="https://i.imgur.com/DIorI8v.png" alt></p><h2 id="re-module"><a href="#re-module" class="headerlink" title="re module"></a>re module</h2><p>在Python中使用正則式需要import re模組，常用的方法有search()、match()、findall()等，可參考<a href="https://docs.python.org/2/library/re.html" target="_blank" rel="noopener">官方文件</a>以取得更詳盡的說明。</p><p>那麼，search跟match有什麼不同呢？這是我一開始對這兩個方法的疑問，那就<a href="https://docs.python.org/2/library/re.html#search-vs-match" target="_blank" rel="noopener">看看官方文件怎麼說</a>，但實際編寫程式碼會幫助自己理解兩者間的差異。</p><p>根據官方文件的解釋：re.match() checks for a match only at the <span style="color:red;">beginning</span> of the string, while re.search() checks for a match <span style="color:red;">anywhere</span> in the string.</p><ul><li>match的搜尋方式為「從字串起始開始搜索，遇到不符合的字元便停止」</li><li>search的搜尋方式為「整個字串」</li></ul><p>個人覺得最常用到的應該是findall()，比對所有符合規則的字串並返回串列：<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">str_ =  <span class="string">'_.Aa123Bb456Cc789Dd3.14'</span></span><br><span class="line"></span><br><span class="line">find_alphabet = re.findall(<span class="string">r'[A-Za-z]+'</span>, str_)</span><br><span class="line">print(find_alphabet)  ＃ [<span class="string">'Aa'</span>, <span class="string">'Bb'</span>, <span class="string">'Cc'</span>, <span class="string">'Dd'</span>]</span><br><span class="line"></span><br><span class="line">find_rational = re.findall(<span class="string">r'[0-9]+\.?[0-9]*'</span>, str_)</span><br><span class="line">print(find_rational)  ＃ [<span class="string">'123'</span>, <span class="string">'456'</span>, <span class="string">'789'</span>, <span class="string">'3.14'</span>]</span><br></pre></td></tr></table></figure></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>在Google首頁中尋找.jpg/.png，雖然只有一張圖片(笑)，另外，常用的Regex可以透過re.compile()轉換為Regex Object，以便於直接呼叫search()、match()、findall()，也可以在使用bs4模組解析網頁時使用:<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!usr/bin/env python3</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"></span><br><span class="line">pattern = re.compile(<span class="string">r'.+\.jpg|.+\.png'</span>)</span><br><span class="line">url = <span class="string">'https://www.google.com'</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    res = rq.get(url)</span><br><span class="line">    res.raise_for_status()</span><br><span class="line"><span class="keyword">except</span> rq.HTTPError:</span><br><span class="line">    print(<span class="string">'HTTP Error!'</span>)</span><br><span class="line"></span><br><span class="line">soup = bs(res.text, <span class="string">'html.parser'</span>)</span><br><span class="line">imgs = soup.find_all(<span class="string">"meta"</span>, &#123;<span class="string">"content"</span>:pattern&#125;)  <span class="comment"># find all images in attr 'content' of tag 'meta'</span></span><br><span class="line"><span class="keyword">for</span> img <span class="keyword">in</span> imgs:</span><br><span class="line">    print(img[<span class="string">'content'</span>])  <span class="comment"># /images/branding/googleg/1x/googleg_standard_color_128dp.png</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;什麼是正則式(Regex)？常見的說法有正規表示式、正則表達式…等等，維基百科是如此描述的：使用單個字串來描述、符合某個句法規則的字串。在很多文字編輯器裡，正則運算式通常被用來檢索、替換那些符合某個模式的文字，總之就是「描述某種規則的表達式」。&lt;br&gt;
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="regex" scheme="https://laplacetw.github.io/tags/regex/"/>
    
  </entry>
  
  <entry>
    <title>資料科學筆記(3)：Web Crawler</title>
    <link href="https://laplacetw.github.io/data-sci-google-search/"/>
    <id>https://laplacetw.github.io/data-sci-google-search/</id>
    <published>2018-09-02T17:17:14.000Z</published>
    <updated>2019-05-01T09:00:34.397Z</updated>
    
    <content type="html"><![CDATA[<p>說到網路爬蟲，最厲害的應該就是Google了…呵，雖然寫不出這麼會爬的東西，但沒關係，會寫個程式去奴役Google的爬蟲就行 : p</p><a id="more"></a><h2 id="Web-Analytics"><a href="#Web-Analytics" class="headerlink" title="Web Analytics"></a>Web Analytics</h2><p>首先瞧瞧Google Search的網址，嘗試輸入任意關鍵字執行搜尋後可以發現，搜尋的網址是長這樣的：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//www.google.com.tw/search?q=</span></span><br></pre></td></tr></table></figure><br>“=”後面便是搜尋的關鍵字了，再觀察網頁原始碼，搜尋結果就在class=”g”的div區塊中。</p><p>既然爬蟲能這樣到處玩耍，想必也會有不歡迎爬蟲的網站，畢竟要是放任大量爬蟲在自家網站撒野，可是會給伺服器帶來困擾的呢。所以Web Crawler也會有許多技巧來偽裝，讓自己在伺服器的認知裡看起來像是人為操作：例如，在request加上user agent偽裝成瀏覽器，或在多個request之間設置隨機延遲，除了模擬人為操作，亦避免造成他人伺服器的負擔…</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># *** coding : utf-8 ***</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"></span><br><span class="line">user_agent = [<span class="string">"Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X x.y; rv:42.0) Gecko/20100101 Firefox/42.0"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1"</span>]</span><br><span class="line"></span><br><span class="line">target = input(<span class="string">'search:'</span>)</span><br><span class="line">url = <span class="string">'http://www.google.com.tw/search?q='</span> + target</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    res = rq.get(url=url, headers=&#123;<span class="string">'User-Agent'</span>: random.choice(user_agent)&#125;)</span><br><span class="line">    res.raise_for_status()</span><br><span class="line"><span class="keyword">except</span> rq.exceptions.HTTPError:</span><br><span class="line">    print(<span class="string">'[HTTP_Error]'</span>)</span><br><span class="line"></span><br><span class="line">soup = bs(res.text, <span class="string">'html.parser'</span>)</span><br><span class="line">link = soup.select(<span class="string">'.g .r a'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">    print(link[index].string)   <span class="comment"># title</span></span><br><span class="line">    print(link[index][<span class="string">'href'</span>])  <span class="comment"># link</span></span><br></pre></td></tr></table></figure><p>輸出結果：<br><img src="https://i.imgur.com/EcaezM5.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;說到網路爬蟲，最厲害的應該就是Google了…呵，雖然寫不出這麼會爬的東西，但沒關係，會寫個程式去奴役Google的爬蟲就行 : p&lt;/p&gt;
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="web crawler" scheme="https://laplacetw.github.io/tags/web-crawler/"/>
    
  </entry>
  
  <entry>
    <title>資料科學筆記(2)：BeautifulSoup模組</title>
    <link href="https://laplacetw.github.io/data-sci-bs4/"/>
    <id>https://laplacetw.github.io/data-sci-bs4/</id>
    <published>2018-08-27T17:25:23.000Z</published>
    <updated>2019-05-01T09:01:00.761Z</updated>
    
    <content type="html"><![CDATA[<p>使用Requests取得網頁內容後，會取得密密麻麻的html，這時候便可以讓BeautifulSoup來協助解析網頁內容。<br><a id="more"></a></p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">pip3 install bs4</span></span><br></pre></td></tr></table></figure><h2 id="Web-Analytics"><a href="#Web-Analytics" class="headerlink" title="Web Analytics"></a>Web Analytics</h2><p>來試著寫一個簡單的Web Crawler去PTT西斯版逛逛吧，但因為西斯版有年齡驗證，所以必須利用Requests.Session()物件去做post，按下大家在美好童年就已經按過的「我已滿18歲按鈕」，讓Web Crawler取得伺服器驗證後就可以在西斯版橫行無阻(嘿嘿)。</p><p>從截圖可以看到，url為 <a href="https://www.ptt.cc/ask/over18.." target="_blank" rel="noopener">https://www.ptt.cc/ask/over18..</a>. 這就是取得驗證的網址，注意url後頭的from=%2Fbbs%2Fsex…在post驗證的payload要寫入from這個key，表示post來自西斯版。<br><img src="https://i.imgur.com/PAuJRHa.png" alt></p><p>關於BeautifulSoup更多細節可參考<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html" target="_blank" rel="noopener">官方文件</a>，這邊簡單說明，基本上就是把request取得的html丟給Soup去解析，接著可以使用find(), find_all(), select()等方法來篩選尋找目標數據所在的區塊。</p><p>舉例來說，若要讓Web Crawler去爬取西斯版的文章標題＆連結，觀察網頁原始碼後可以發現目標數據就在class＝r-ent的區塊裡面。<br><img src="https://i.imgur.com/56hpBfq.png" alt></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"></span><br><span class="line">url = <span class="string">'https://www.ptt.cc/bbs/sex/index.html'</span></span><br><span class="line">payload = &#123;</span><br><span class="line">    <span class="string">'from'</span>:url,</span><br><span class="line">    <span class="string">'yes'</span>:<span class="string">'yes'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">session = rq.Session()</span><br><span class="line">session.post(<span class="string">'https://www.ptt.cc/ask/over18'</span>, data=payload)</span><br><span class="line">res = session.get(url)</span><br><span class="line"></span><br><span class="line">soup = bs(res.text, <span class="string">'html.parser'</span>)</span><br><span class="line">result = soup.select(<span class="string">'.r-ent .title a'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> title <span class="keyword">in</span> result:</span><br><span class="line">    print(title.text, title[<span class="string">'href'</span>])</span><br></pre></td></tr></table></figure><p>輸出結果：<br><img src="https://i.imgur.com/NmCiRB0.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用Requests取得網頁內容後，會取得密密麻麻的html，這時候便可以讓BeautifulSoup來協助解析網頁內容。&lt;br&gt;
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="web crawler" scheme="https://laplacetw.github.io/tags/web-crawler/"/>
    
  </entry>
  
  <entry>
    <title>資料科學筆記(1)：Requests模組</title>
    <link href="https://laplacetw.github.io/data-sci-requests/"/>
    <id>https://laplacetw.github.io/data-sci-requests/</id>
    <published>2018-08-26T14:25:43.000Z</published>
    <updated>2019-05-01T08:59:33.085Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">pip3 install requests</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h2><p>範例程式為對網頁做基本請求＆接收回應，raise_for_status()為return檢查，若返回異常則拋出error<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://www.google.com.tw/search?'</span>  <span class="comment"># target url</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    res = rq.get(url)</span><br><span class="line">    res.raise_for_status()</span><br><span class="line"><span class="keyword">except</span> rq.HTTPError:</span><br><span class="line">    print(<span class="string">'HTTP Error!'</span>)</span><br><span class="line"></span><br><span class="line">print(res.text)  <span class="comment"># html</span></span><br></pre></td></tr></table></figure></p><h2 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h2><p>必要時可以加上參數，例如Google Search:<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">payload = &#123;<span class="string">'q'</span>:<span class="string">'data science'</span>&#125;</span><br><span class="line">res = rq.get(url, params=payload)  <span class="comment"># http://www.google.com.tw/search?q=data+science</span></span><br></pre></td></tr></table></figure><br>＊參數的部分為字典結構，key則視url結構而定</p><h2 id="Post"><a href="#Post" class="headerlink" title="Post"></a>Post</h2><p>針對網頁中的表單，可以使用Post來傳送Payload<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = rq.post(url, params=payload)</span><br></pre></td></tr></table></figure></p><p>但…對Google Search頁面做Post會得到這樣的回應：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">//www.google.com/</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">logo</span> <span class="attr">aria-label</span>=<span class="string">Google</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>405.<span class="tag">&lt;/<span class="name">b</span>&gt;</span> <span class="tag">&lt;<span class="name">ins</span>&gt;</span>That’s an error.<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The request method <span class="tag">&lt;<span class="name">code</span>&gt;</span>POST<span class="tag">&lt;/<span class="name">code</span>&gt;</span> is inappropriate for the URL <span class="tag">&lt;<span class="name">code</span>&gt;</span>/search?q=data+science<span class="tag">&lt;/<span class="name">code</span>&gt;</span>.  </span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span>That’s all we know.<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>Google說這樣是不當的行為呢，我只是做個示範，好孩子不要學呀＾.&lt;</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Install&quot;&gt;&lt;a href=&quot;#Install&quot; class=&quot;headerlink&quot; title=&quot;Install&quot;&gt;&lt;/a&gt;Install&lt;/h2&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt;pip3 install requests&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Data Science" scheme="https://laplacetw.github.io/categories/Data-Science/"/>
    
    
      <category term="python" scheme="https://laplacetw.github.io/tags/python/"/>
    
      <category term="web crawler" scheme="https://laplacetw.github.io/tags/web-crawler/"/>
    
  </entry>
  
  <entry>
    <title>Hexo on GitHub Pages:從Win轉移到Mac</title>
    <link href="https://laplacetw.github.io/hexo-switching-from-win-to-mac/"/>
    <id>https://laplacetw.github.io/hexo-switching-from-win-to-mac/</id>
    <published>2018-08-24T13:52:28.000Z</published>
    <updated>2019-05-01T08:36:11.990Z</updated>
    
    <content type="html"><![CDATA[<p>一直以來都有想換筆電的想法，但總是能撐則撐，畢竟會是不小的支出呢…不過前陣子需要帶著筆電趴趴造，而跟著我8年的老Win筆電過於笨重，這實在令人感到非常困擾，經考量後換了Mac Air，讓老Win正式退役。<br><a id="more"></a><br>既然換了電腦換了系統，除了熟悉系統操作，再來就是開發環境的建置，趕緊先把Hexo環境先建置起來才能更新部落格。</p><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p></p><p><br><a href="https://git-scm.com" target="_blank" rel="noopener">官方載點</a>，若是已安裝過自帶Git環境的XCode可以略過。</p><h2 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h2><p></p><p><br><a href="https://nodejs.org/en/" target="_blank" rel="noopener">官方載點</a></p><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g hexo-cli</span><br><span class="line">sudo npm install hexo-deployer-git --save</span><br><span class="line">cd &#123;blog_name&#125;        # build folder of blog</span><br><span class="line">hexo init &#123;blog_name&#125;</span><br><span class="line">hexo</span><br><span class="line">npm install</span><br><span class="line">hexo s --debug  # run local server(127.0.0.1:4000)</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/iftnF8e.jpg" alt></p><h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><p></p><p><br>確定在本機可以正常運作後，接下來只要把根目錄下的_config.yml、scaffolds資料夾及source資料夾覆寫到Blog根目錄下就完成~</p><h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><p></p><p></p><ol><li>在發佈這篇文章後發現Blog分類及標籤頁面消失了…原來是我只把source底下的“_posts”複製到新的根目錄下，只要重新建立“categories”及”tags”兩個new page就行啦。</li><li>原本使用的NexT主題為舊版，這次乾脆就更新到v6.4.0啦，配置檔只有微幅的調整，需注意的是languages的部分，檔名中hyphen後的字改為大寫字母了，如果根目錄配置檔沒有修改，Blog預設語言就會因爲找不到對應檔案而變成英文。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一直以來都有想換筆電的想法，但總是能撐則撐，畢竟會是不小的支出呢…不過前陣子需要帶著筆電趴趴造，而跟著我8年的老Win筆電過於笨重，這實在令人感到非常困擾，經考量後換了Mac Air，讓老Win正式退役。&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://laplacetw.github.io/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="https://laplacetw.github.io/tags/hexo/"/>
    
      <category term="github pages" scheme="https://laplacetw.github.io/tags/github-pages/"/>
    
  </entry>
  
  <entry>
    <title>Error:檔案無法載入，因為這個系統已停用指令碼執行</title>
    <link href="https://laplacetw.github.io/django-execution-of-scripts-is-disabled/"/>
    <id>https://laplacetw.github.io/django-execution-of-scripts-is-disabled/</id>
    <published>2018-08-15T16:35:25.000Z</published>
    <updated>2019-05-01T08:41:14.594Z</updated>
    
    <content type="html"><![CDATA[<p>問題來源 : 今日在Win10作業系統下建立Python virtual environment for Django，接著要用Scripts/activate指令啟動虛擬環境時，CLI顯示了這個令人錯愕的訊息:</p><p>「檔案無法載入，因為這個系統已停用指令碼執行」</p><a id="more"></a><p>代表目前作業系統的Execution Policy設定為Restricted(不允許執行)這是我在Win7作業系統下使用虛擬環境從沒遇過的狀況，而Google搜尋結果顯示有許多人在PowerShell執行Script遇到相同問題。</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>以系統管理員權限執行PowerShell，執行以下指令:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure><br>使作業系統接受所有自訂或信任來源的Script，如此問題便解決啦。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;問題來源 : 今日在Win10作業系統下建立Python virtual environment for Django，接著要用Scripts/activate指令啟動虛擬環境時，CLI顯示了這個令人錯愕的訊息:&lt;/p&gt;
&lt;p&gt;「檔案無法載入，因為這個系統已停用指令碼執行」&lt;/p&gt;
    
    </summary>
    
      <category term="Django" scheme="https://laplacetw.github.io/categories/Django/"/>
    
    
      <category term="django" scheme="https://laplacetw.github.io/tags/django/"/>
    
      <category term="pyhton" scheme="https://laplacetw.github.io/tags/pyhton/"/>
    
      <category term="error" scheme="https://laplacetw.github.io/tags/error/"/>
    
  </entry>
  
</feed>
